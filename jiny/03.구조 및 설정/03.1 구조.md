# 폴더구조
프레임워크는 수많은 파일들로 구성되어 있습니다. 많은 파일들로 인하여 사이트의 구조를 한눈에 파악하기 힘듭니다. 파일뿐만 아니라 여러개의 디렉토리도 존재를 합니다.
각각의 디렉토리들은 관련된 파일들을 담고 있습니다.

폴더는 연관성 있는 코드들을 묽어 관리할 수 있는 유용한 방법입니다.
프레임워크는 파일들의 갯수가 많기 때문에 폴더를 이용하여 파일들을 관리합니다. 또한 폴더들은 각각의 역활을 가지고 있습니다.

많은 프레임워크 또한 먼저 폴더구조를 설명합니다. 그리고 폴더 구조들은 매우 유사합니다. 
하나 이상의 프레임워크를 사용해본 경험이 있다면, 지니 또한 유사한 구조를 가지고 있다는 것을 금방 알아 챌수 있을 것입니다.

일단 프레임워크를 잘 사용하기 위해서는 파일들과 각각의 폴더별의 기능들을 알고 있는 것이 좋습니다.


## 기본파일
서브폴더외에 제공되는 기본 파일들이 있습니다. 기본 파일들은 프레임워크의 루트 폴더안에 저장이 되어 있습니다.

Root에는 몇개의 설정파일들이 존재합니다.
* .htaccess
* .env.php
* composer.json

루트안에 있는 파일들은 보통 설정파일 또는 시스템 구성에 필요한 것들입니다.

### REWRITE
프레임워크는 요청된 URL과 실제 존재하는 파일들이 일치하지 않습니다. 입력한 url을 분석하여 코드를 매칭하게 됩니다.
이때 코드를 매칭하기 위해서 웹서버의 `REWRITE` 기술을 사용합니다.

REWRITE 설정은 별도의 파일로 작성을 합니다. 아파치와 같은 웹서버는 `.htaccess` 파일을 사용합니다. IIS와 같은 웹서버는 `web.config` 파일을 사용합니다.

### .env.php
지니PHP의 기본 설정파일 입니다. 

지니 루트에는 폴더구성을 정의하는 환경설정 파일이 존재합니다. 이 파일은 필수이며, 파일명 또한 정해져 있습니다.

`.env.php` 파일은 처리 동작에 대한 폴더 구조의 경로가 정의 되어 있습니다. 
기본 환경설정 파일을 통하여 프레임워크의 폴더 구조를 변경을 할 수도 있습니다. 



### composer.json
지니PHP는 컴포저의 페키지 기술을 이용하여 구성이 되어 있습니다. 컴포저 설치 및 지원을 위한 환경설정파일을 `composer.json`에 정의되어 있습니다. 
`composer.json`파일은 json 형태의 데이터 타입으로 저장이 되어 있습니다.

json은 데이터 시리얼 포맷 양식 입니다.


## public 폴더
기존 PHP개발자, 처음으로 프레임워크를 사용하는 사람들의 공통점은 시작포인트를 찾기 어려워 한다는 것입니다. 
public 폴더는 지니프레임의 시작 시점입니다.

대부분의 프레임워크들을 `/public`폴더를 가지고 있습니다. 또한, 웹서버가 시작되는 `document root`입니다. 
처음 설치후 실행을 하신것에서 알 수 있듯이 `-t ./public` 옵션을 사용한 것을 알 수 있습니다. `-t` 옵션은 PHP에게 서버 시작시 기준이 되는 DOCUMENT ROOT 경로를 알려주는 설정입니다.

`./public` 폴더 안에 있는 `index.php`파일이 처음 시작하게 됩니다.

이 처럼 서버폴더인 `/public`에서 시작하는 이유는 사용자가 직접접으로 url경로를 통하여 내부 코드 파일을 접속을 하는 것을 방지 하기 위해서 입니다.

프레임웍을 시작할 때 다음과 같이 `-t ./public` 옵션을 사용한 것을 알 수 있습니다.

```php
php -S localhost:8000 -t ./public
```

`-t` 옵션은 PHP에게 서버 시작시 기준이 되는 DOCUMENT ROOT 경로를 알려주는 설정입니다. 또한 `/public`폴더 안에는 assets 과 images 폴더가 있습니다. 
assets에는 CSS, Javascript와 같은 파일들이 있습니다. images 에는 사이트에 같이 출력될 이미지들을 담고 있습니다. 

만일, 웹서버의 Document Root를 변경을 할 수 없는 경우도 있습니다. 이를 위해서, 지니는 루트에 있는 `index.php`로 시작 포인트로 설정을 할 수 있습니다.

public 폴더 안에는 또한 `assets` 과 `images` 폴더가 있습니다. `assets`에는 `CSS`, `Javascript`와 같은 파일들을 담고 있습니다.
사이트에서 이미지를 출력할때 images 의 파일로 설정경로 합니다.

## resource 폴더
리소스 폴더는 서비스에서 제공하는 실제적인 view 파일과 컨덴츠들을 담고 있습니다. 이처럼 지니가 컨덴츠를 별도의 폴더로 분리를 해둔 의미는 재사용성 입니다. 

컨덴츠 리소스를 통하여 소스와 테마의 영향이 없이 순수하게 컨덴츠만을 생성하여 서비스를 만들어 낼 수 있는 것은 지니만의 장점입니다. 
리소스에는 또한 여러 폴더들이 있습니다. pages, layout, menu 등의 폴더등이 있습니다.

지니는 프레임워크와 테마, 컨덴츠의 내용을 분리하여 관리 될 수 있도록 설계 되었습니다. 
향후, 프레임워크의 버젼이 업그레이드가 되어도 영향을 받지 않고 유지가 되기 위함입니다. 또한 테마도 변경되어도 컨덴츠의 내용은 유지하기 위함입니다.

`/resource/pages` 안에 html 또는 마크다운 파일을 생성하면, 자동으로 서비스 페이지를 랜더링 하여 화면에 출력을 해줍니다.
이 경로는 `.env.php` 설정 파일을 이용하여 수정할 수도 있습니다.


## theme 폴더
지니PHP는 별도의 테마를 구성을 통하여 사이트의 디자인을 분리할 수 있습니다.
테마 기능을 통하여 여러 디자이너들이 제공된 모양으로 사이트 전체를 한번에 수정을 할 수 있습니다.

테마 폴더는 `제작자/테마명` 형태로 구조화 되어 있습니다. 

## conf 폴더
사이트 운영에 대한 설정파일입니다. 설정파일은 프레임워크 구동시 자동으로 로드되어 처리가 됩니다.

설정파일은 다양한 파일로 작성이 가능합니다.

## app 폴더
지니PHP는 프레임워크로 사용자가 추가로 컨트롤러를 만들어 기능을 추가할 수 있습니다.

## vendor 폴더
루트 폴더에 저장된 `composer.json` 에 정의된 페키지들을 설치 관리하는 폴더 입니다. 


